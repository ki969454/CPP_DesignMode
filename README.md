# CPP_DesignMode

设计原则：
    1.单一职责原则
    2.开放封闭原则
    3.里氏替代原则
    4.依赖倒置原则
    5.接口隔离原则
    6.合成复用原则
    7.最少知识原则

简单工厂模式 Simple Factory Pattern
组成：
    1、Factory(工厂):核心部分，负责实现创建所有产品的内部逻辑，工厂类可以被外界直接调用，创建所需对象
    工厂类是整个模式的关键.包含了必要的逻辑判断,根据外界给定的信息,决定究竟应该创建哪个具体类的对象.通过使用工厂类,外界可以从直接创建具体产品对象的尴尬局面摆脱出来,仅仅需要负责“消费”对象就可以了
    2、Product(抽象类产品)：工厂类所创建的所有对象的父类，封装了产品对象的公共方法，所有的具体产品为其子类对象
    3、ProductA、ProductB…(具体产品)：简单工厂模式的创建目标，所有被创建的对象都是某个具体类的实例。它要实现抽象产品中声明的抽象方法
特征：
    1、简单工厂模式的核心思想就是：有一个专门的类（工厂类）来负责创建实例的过程。
    把产品看着是一系列的类的集合，这些类是由某个抽象类或者接口派生出来的一个对象树。而工厂类用来产生一个合适的对象来满足客户的要求。
    2、如果简单工厂模式所涉及到的具体产品之间没有共同的逻辑，那么我们就可以使用接口来扮演抽象产品的角色；
    由于对象的创建过程是我们不需要去关心的，而我们注重的是对象的实际操作，所以，我们需要分离对象的创建和操作两部分，如此，方便后期的程序扩展和维护。
    3、如果具体产品之间有功能的逻辑或，我们就必须把这些共同的东西提取出来，放在一个抽象类中，然后让具体产品继承抽象类。
    4.在程序中，需要创建的对象很多，导致对象的new操作多且杂时，需要使用简单工厂模式；
缺点：
    5、工厂类集中了所有实例的创建逻辑，违反了高内聚责任分配原则，将全部创建逻辑集中到了一个工厂类中；它所能创建的类只能是事先考虑到的，如果需要添加新的类，则就需要改变工厂类
    6、当系统中的具体产品类不断增多时候，可能会出现要求工厂类根据不同条件创建不同实例的需求．这种对条件的判断和对具体产品类型的判断交错在一起，很难避免模块功能的蔓延

工厂方法模式 Factory Method
定义：
    工厂方法模式，又称工厂模式、多态工厂模式和虚拟构造器模式，通过定义工厂父类负责定义创建对象的公共接口，而子类则负责生成具体的对象。
主要作用：
    将类的实例化（具体产品的创建）延迟到工厂类的子类（具体工厂）中完成，即由子类来决定应该实例化（创建）哪一个类。
解决的问题：
    工厂一旦需要生产新产品就需要修改工厂类的方法逻辑，违背了开放 - 关闭原则
缺点：
    添加新产品时，除了增加新产品类外，还要提供与之对应的具体工厂类，系统类的个数将成对增加，在一定程度上增加了系统的复杂度；同时，有更多的类需要编译和运行，会给系统带来一些额外的开销；
    由于考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度，且在实现时可能需要用到DOM、反射等技术，增加了系统的实现难度。
    虽然保证了工厂方法内的对修改关闭，但对于使用工厂方法的类，如果要更换另外一种产品，仍然需要修改实例化的具体工厂类；
    一个具体工厂只能创建一种具体产品

抽象工厂模式 Abstract Factory Method
定义：
    提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类；具体的工厂负责具体的产品实例。
主要作用：
    运行使用抽象的接口来创建一组相关产品，而无需知道或关心实际生产出的具体产品是什么，这样就可以从具体产品中解耦。
解决问题：
    每个工厂只能创建一类产品。
缺点：
    抽象工厂模式很难支持新种类产品的变化。
    这是因为抽象工厂接口中已经确定了可以被创建的产品集合，如果需要添加新产品，此时就必须去修改抽象工厂的接口，这样就涉及到抽象工厂类的以及所有子类的改变，这样也就违背了“开发——封闭”原则。

单例模式 Singleton Pattern
定义：
    实现一个类只有一个实例化对象&提供一个全局访问点
作用：
    保证一个类只有一个对象，降低对象之间的耦合度
单例模式可以分为懒汉式和饿汉式，两者之间的区别在于创建实例的时间不同：
    懒汉式：指系统运行中，实例并不存在，只有当需要使用该实例时，才会去创建并使用实例。（这种方式要考虑线程安全）
    饿汉式：指系统一运行，就初始化创建实例，当需要时，直接调用即可。（本身就线程安全，没有多线程的问题）
特点与选择
    懒汉式是以时间换空间，适应于访问量较小时；推荐使用内部静态变量的懒汉单例，代码量少
    饿汉式是以空间换时间，适应于访问量较大时，或者线程比较多的的情况

建造者模式 Builder Pattern
定义：
    隐藏创建对象的建造过程和细节，使得用户在不知道建造过程和细节的情况下，就能直接创建复杂的对象
作用：
    降低创建复杂对象的复杂度
    隔离了创建对象的构建过程和表示

适配器模式 Adpter Pattern
定义：
    定义一个包装类，用以包装不兼容接口的对象
        1. 包装类=适配器Adpter
        2. 被包装对象=适配者Adaptee=被包装的类
作用：
    把一个类的接口转换成客户端所期待的另一种接口，从而使原本接口不匹配而无法工作的两个类能一起工作